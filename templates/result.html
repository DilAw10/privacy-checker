<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Privacy & Security Scanner ‚Äî Results</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="header">
        <div class="container">
            <h1>üîí Privacy & Security Scanner</h1>
            <p class="muted">Results for <code style="background:transparent; color:inherit;">{{ url }}</code></p>
        </div>
    </div>

    <div class="container">
        {% if error %}
            <div class="alert alert-error">
                <strong>‚ö†Ô∏è Error:</strong> {{ error }}
            </div>
            <p><a class="btn-scan" href="/">Check another site</a></p>
        {% else %}
            <div class="results-container">
                <div class="result-header" style="display:flex; justify-content:space-between; align-items:center; gap:12px;">
                    <div>
                        <h2>{{ url }}</h2>
                        <p class="scan-time">Scanned on {{ (loop_time if loop_time is defined else '') }}</p>
                    </div>
                    <div>
                        <a class="btn-scan" href="/">Scan another site</a>
                    </div>
                </div>

                <!-- Security Score Card -->
                <div class="result-card">
                    <div class="card-header"><h3>üìà Security Score</h3></div>
                    {% set cls = 'good' if security_score >= 80 else ('warn' if security_score >= 50 else 'bad') %}
                    <div style="display:flex; align-items:center; gap:24px;">
                        <div class="score {{ cls }}">{{ security_score }} / 100</div>
                        <div>
                            <p class="text-muted">A simple heuristic score based on missing headers, trackers and HTTPS.</p>
                        </div>
                    </div>
                </div>

                <!-- Findings Card -->
                <div class="result-card">
                    <div class="card-header"><h3>üõ°Ô∏è Findings</h3></div>
                    {% if findings %}
                        <ul>
                            {% for f in findings %}
                                <li>{{ f }}</li>
                            {% endfor %}
                        </ul>
                    {% else %}
                        <p class="text-success">‚úÖ No issues detected.</p>
                    {% endif %}
                </div>

                <div class="score-summary">
                    <div class="score-section">
                        <h3>üìä Summary</h3>
                        <p>Review the findings and prioritize fixes to improve your score.</p>
                    </div>
                </div> 

            </div>
        {% endif %}
    </div>


</body>
</html>